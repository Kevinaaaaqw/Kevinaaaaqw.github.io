import{D as Y,g as o,d as C,G as I,H as F,k as M,o as E,c as L,a as d,I as $,J as k,u as n,t as P,b as r,K as T,L as B,M as H,N as z,F as A,q as N}from"./index-CYDdCMF5.js";import{_ as U,a as R,b as j,t as V,c as q,d as G,e as J}from"./TaskLength.vue_vue_type_script_setup_true_lang-DdjeIrXh.js";const b=Y("addPostIt",()=>{const g=o({title:"",isEdit:!1,isDone:!1,status:"add",deadLineDate:"",deadLineTime:null,file:{file:null,date:""},comment:"",isImportant:!1});return{addData:g,reset:()=>{g.value={title:"",isEdit:!1,isDone:!1,status:"add",deadLineDate:"",deadLineTime:null,file:{file:null,date:""},comment:"",isImportant:!1}}}}),K="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20448%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.2%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23c8c8c8'%20d='M256%2080c0-17.7-14.3-32-32-32s-32%2014.3-32%2032V224H48c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032H192V432c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32V288H400c17.7%200%2032-14.3%2032-32s-14.3-32-32-32H256V80z'/%3e%3c/svg%3e",W={class:"addShadow"},O=["src"],Q=C({__name:"AddPostIt",emits:["focus","save","cancle"],setup(g,{emit:y}){const{lang:_}=I(F()),{addData:e}=I(b()),s=()=>{e.value.isDone&&(e.value.isImportant=!1)},c=()=>{b().addData.isEdit=!0},w=()=>{b().reset()},m=()=>{e.value.title.trim()&&(V().addTodolist({...e.value,isEdit:!1}),b().reset())},v=M(()=>e.value.isEdit?"w-310px md:w-620px h520px duration-500 relative bg-bg-1 overflow-hidden rd-1 outline-none":"w-310px md:w-620px h-65px duration-500 bg-bg-4 border-solid border-bg-2 border-2px box-border rd-1 flex items-center add children:pe-2 cursor-pointer");return(x,a)=>{var i,D,f;return E(),L("div",W,[d("div",{tabindex:"0",onFocus:a[3]||(a[3]=()=>c()),class:B(v.value)},[$(d("div",{onClick:a[0]||(a[0]=()=>c()),class:"w-100% h-full flex items-center"},[d("img",{class:"w-20px h-20px ms-3%",src:n(K)},null,8,O),d("span",null,P(n(_).addTask),1)],512),[[k,!((i=n(e))!=null&&i.isEdit)]]),$(d("div",null,[r(U,{modelValue:n(e),"onUpdate:modelValue":a[1]||(a[1]=u=>T(e)?e.value=u:null),isTitle:!((D=n(e))!=null&&D.isEdit),onSendStatus:s},null,8,["modelValue","isTitle"]),r(R,{modelValue:n(e),"onUpdate:modelValue":a[2]||(a[2]=u=>T(e)?e.value=u:null)},null,8,["modelValue"]),r(j,{onCancle:()=>w(),onSave:()=>m(),status:"add",absolute:!0},null,8,["onCancle","onSave"])],512),[[k,(f=n(e))==null?void 0:f.isEdit]])],34)])}}}),Z={class:"w-310px md-w-620px"},ee={class:"mt-2 mb-2"},te={class:"mt-2 mb-2"},se=["id","onDragstart","onDragend","onMouseenter"],ae={class:"flex justify-between"},ne=C({__name:"MyTasksView",setup(g){const{toDoList:y,deleteWindowStatus:_}=I(V()),e=V();e.closeAll();const s=o(),c=o(0),w=o(0),m=o(0),v=o(0),x=o(0),a=o(0),i=o(!1),D=(t,l,h)=>{t.preventDefault(),_.value||(e.setDragIndex(l.toString()),i.value=!0,s.value=document.getElementById(`${l}EDit`),s.value.style.zIndex=1,s.value.classList.add("tasksShadow"),c.value=t.clientX,w.value=t.clientY,m.value=t.pageX,v.value=t.pageY,document.addEventListener("mousemove",f))},f=t=>{if(s.value){const l=t.pageX-m.value,h=t.pageY-v.value;x.value+=l,a.value+=h,s.value.style.left=`${x.value}px`,s.value.style.top=`${a.value}px`,c.value=t.clientX,w.value=t.clientY,m.value=t.pageX,v.value=t.pageY}},u=(t,l)=>{document.removeEventListener("mousemove",f),s.value&&!_.value&&(s.value.classList.remove("tasksShadow"),s.value.style.left="0px",s.value.style.top="0px",s.value.style.zIndex=0,s.value=null,x.value=0,a.value=0,setTimeout(()=>{i.value=!1},10))},X=(t,l)=>{if(!i.value)return 0;e.changeItems(l.toString()),i.value=!1};return H(()=>{window.addEventListener("mouseup",u)}),z(()=>{window.removeEventListener("mouseup",u)}),(t,l)=>(E(),L("div",Z,[d("div",ee,[r(Q)]),d("div",te,[(E(!0),L(A,null,N(n(y),(h,p)=>(E(),L("div",{key:p,id:`${p}EDit`,draggable:"true",onDragstart:S=>{D(S,p)},onDragend:S=>{u()},onMouseenter:S=>{X(S,p)},class:"pt-5px pb-5px relative"},[r(q,{class:"relative tasksShadow",data:h,index:p},null,8,["data","index"])],40,se))),128))]),d("div",ae,[r(G,{"task-count-type":"taskLeft"}),r(J)])]))}});export{ne as default};
